{% load static %}

<!--   Core JS Files   -->
<script src="{% static 'assets/js/core/popper.min.js' %}"></script>
<script src="{% static 'assets/js/core/bootstrap.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/perfect-scrollbar.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/smooth-scrollbar.min.js' %}"></script>
<!-- Simple-DataTables (interactividad para tablas) -->
<script src="{% static 'assets/js/plugins/datatables.js' %}"></script>
<!-- Kanban scripts -->
<script src="{% static 'assets/js/plugins/dragula/dragula.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/jkanban/jkanban.js' %}"></script>
<script>
  var win = navigator.platform.indexOf('Win') > -1;
  if (win && document.querySelector('#sidenav-scrollbar')) {
    var options = {
      damping: '0.5'
    }
    Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
  }
</script>
<!-- Github buttons -->
<script async defer src="https://buttons.github.io/buttons.js"></script>
<!-- Control Center for Soft Dashboard: parallax effects, scripts for the example pages etc -->
<script src="{% static 'assets/js/soft-ui-dashboard.min.js' %}"></script>

<!-- TalentTrack: inicializador de tablas (buscador / orden / paginaciÃ³n) -->
<script src="{% static 'assets/js/tt-datatables.js' %}"></script>
<script>
/* TT_SIDENAV_TOGGLE: minimal + reliable hamburger */
(function(){
  const btn = document.getElementById('iconNavbarSidenav');
  const sidenav = document.getElementById('sidenav-main');
  const body = document.body;
  if(!btn || !sidenav) return;

  // Capture phase to override the theme handler (avoid double toggle)
  btn.addEventListener('click', function(e){
    e.preventDefault();
    e.stopImmediatePropagation();

    body.classList.toggle('g-sidenav-pinned');

    // Keep background consistent
    if(body.classList.contains('g-sidenav-pinned')){
      sidenav.classList.add('bg-white');
      sidenav.classList.remove('bg-transparent');
      const iconClose = document.getElementById('iconSidenav');
      if(iconClose) iconClose.classList.remove('d-none');
    } else {
      // On desktop, keep bg clean
      sidenav.classList.remove('bg-transparent');
    }
  }, true);
})();
</script>
